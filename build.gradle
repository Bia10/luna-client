plugins {
    id 'java'
}

group 'luna'
version '1.0'

sourceCompatibility = 1.8

repositories {
    mavenCentral()
}

dependencies {
    testCompile group: 'junit', name: 'junit', version: '4.12'
    implementation "com.moandjiezana.toml:toml4j:0.7.2"
}

task addCacheDirs {
    mustRunAfter clean
    doLast {
        mkdir "./src/main/resources/cache/raw"
        mkdir "./src/main/resources/cache/world"
    }
}

tasks.each {
    if (it != addCacheDirs && it != clean) {
        it.dependsOn addCacheDirs
    }
}